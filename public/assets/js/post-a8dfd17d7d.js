{let t=function(){let t=$("#post_create_form");t.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/post/create",data:t.serialize(),success:function(t){let o=e(t.data.post);$("#post_container").prepend(o),new PostComment(t.data.post._id),n($(" .post_delete_link",o)),new PostComment(t.data.post.id),new Noty({theme:"relax",text:"Post Published",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},e=function(t){return $(`<li id="post-${t._id}">\n\n\n\n           <p>${t.content}</p>\n                      \n           \n                      <a class="post_delete_link" href="/post/destroy/${t._id}">X</a>\n                    \n                      \n                                 \n                                 <small>${t.user.name}</small>\n                             \n                                            <form action="/post/comment/create" id="post-${t._id}-comments-form" class="commentCreate" method="Post">\n                                                       \n                                                       <textarea name="content" cols="30" rows="4"></textarea>\n                                                       \n                                                       <input type="hidden" name="post" value="${t._id}" >\n                                                       <input type="submit">\n                                            </form>\n                                            <div id="post-${t.id}">Likes</div>\n                                             <div>\n                                            <ul id="commentContainer${t._id}" class="post-${t._id}-comments-form">\n                                                \n                                         </ul>\n                                 </div>\n                            \n                               \n           \n           </li>`)},n=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$(`#post-${t.data.post_id}`).remove(),new Noty({theme:"relax",text:"Post deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))};(function(){$("#post_container>li").each((function(t,e){let o=e.getAttribute("id");o=o.substr(5),new PostComment(o),n($(" .post_delete_link",e))}))})(),t()}