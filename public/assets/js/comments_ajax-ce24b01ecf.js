class PostComment{constructor(e){this.postID=e,this.postContainer=$(`.post-${e}`),this.newCommentForm=$(`#post-${e}-comments-form`),this.createComment(e)}createComment(e){let t=this;this.newCommentForm.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/post/comment/create",data:$(`#post-${e}-comments-form`).serialize(),success:function(o){let n=t.newCommentDom(o.data.comment);$(`#commentContainer${e}`).prepend(n),t.newDeleteDom($(" .comment_delete_link",n)),new Noty({theme:"relax",text:"Comment Published",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){return console.log(e.responseText),{}}})}))}newCommentDom(e){return $(`<li id="comment-${e._id}">\n\n                      <p>${e.content}</p>\n                                                       \n                                                       \n                                                      \n                                                        <a class="comment_delete_link"   href="/post/comment/destroy/${e._id}">X</a>\n                      \n                                                         \n                                                                 \n                                                    \n                                                       <small>${e.user.name}</small> \n                      \n                      </li>`)}newDeleteDom(e){console.log(e),$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){console.log(`#comment-${e.data.comment_id}`),$(`#comment-${e.data.comment_id}`).remove(),console.log("delete function called"),new Noty({theme:"relax",text:"Comment deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))}}